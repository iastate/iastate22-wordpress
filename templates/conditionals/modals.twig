{% block modal %}
  <div class="iastate22-modal iastate22-card--profile-with-modal"
       id="{{ modalID|e('esc_attr') }}" aria-hidden="false">
    <div class="iastate22-modal__overlay" tabindex="-1" data-micromodal-close>
      <div
          class="iastate22-modal__container{% if modal.modal_image.url|length > 0 %} iastate22-modal__container-with-media"{% endif %}
          id="{{ modalID }}-content" role="dialog" aria-modal="true"
          aria-labelledby="{{ modalID }}-title">
        <button class="iastate22-modal__close" aria-label="Close modal"
                data-micromodal-close>
          <i class="fa-light fa-xmark" aria-hidden="true"></i>
        </button>
        {% if modal.modal_image.url|length > 0 %}
          <div class="iastate22-modal__media-name-wrap">
            <div class="iastate22-modal__media">
              <img src="{{ modal.modal_image.url|e('esc_url') }}"
                   alt="{{ modal.modal_image.alt|e('esc_attr') }}"
                   loading="lazy" width="207" height="197">
            </div>
            <div class="iastate22-modal__name-role-wrap">
              <div class="iastate22-card__name">
                <p>{{ card.card.name }}</p>
              </div>
              {% if card.card.role %}
                <div class="iastate22-card__role">
                  <p>{{ card.card.role }}</p>
                </div>
              {% endif %}
            </div>
          </div>
        {% endif %}
        <div class="iastate22-modal__content">
          <h2 class="iastate22-modal__title"
              id="{{ modalID }}-title">{{ card.card.title }}</h2>
          <div
              class="iastate22-modal__body-content text-content">{{ modal.modal_content|raw }}</div>
          <div class="iastate22-modal__content-cta">
            <p>{{ modal.modal_cta.cta_intro }}</p>
            {% if modal.modal_cta.link.url and modal.modal_cta.link.title %}
              <a href="{{ modal.modal_cta.link.url|e('esc_url') }}"{% if modal.modal_cta.link.target == "_blank" %} target="_blank"{% endif %}>{{ modal.modal_cta.link.title }}</a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock modal %}

{% block modal_video %}
  <div class="iastate22-modal iastate22-modal--with-video" id="{{ modal.id }}" aria-hidden="false">
    <div class="iastate22-modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="iastate22-modal__container{% if modal.video %} iastate22-modal__container-with-media{% endif %}"
           id="{{ modal.id }}-content" role="dialog" aria-modal="true" aria-labelledby="{{ modal.id }}-title">
        <button class="iastate22-modal__close" aria-label="Close modal" data-micromodal-close><i
              class="fa-light fa-xmark" aria-hidden="true"></i></button>
        {% if modal.video %}
          <div class="iastate22-modal__media">
            <div class="video-embed">
              <div class="video-embed__media-wrap">
                {% if modal.wallpaper %}
                  <img src="{{ modal.wallpaper|path }}" alt=""/>
                {% else %}
                  {% if modal.source == "youtube" %}
                    <img src="https://img.youtube.com/vi/{{ youtube_video_id }}/maxresdefault.jpg" alt="Video Poster">
                  {% elseif modal.source == "vimeo" %}
                    <img src="https://vumbnail.com/{{ vimeo_video_id }}.jpg" alt="Video Poster">
                  {% endif %}
                {% endif %}
                {% if modal.source == "youtube" %}
                  <div class="video-embed__video" aria-label="YouTube Video: {{ title }}"
                       data-vid="{{ youtube_video_id }}"></div>
                {% elseif modal.source == "vimeo" %}
                  <div data-vimeo-id="{{ vimeo_video_id }}" class="video--vim"></div>
                {% endif %}
              </div>
              {% if modal.caption %}
                <div class="video-embed__caption">{{ modal.caption }}</div>
              {% endif %}
            </div>
          </div>
        {% endif %}
        <div class="iastate22-modal__content">
          <h2 class="iastate22-modal__title" id="{{ modal.id }}-title">{{ modal.title }}</h2>
          {{ modal.content|raw }}
        </div>
      </div>
    </div>
  </div>
{% endblock modal_video %}
